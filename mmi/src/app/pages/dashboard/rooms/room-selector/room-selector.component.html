<div class="header">Room Management</div>
<div class="room-selector">
  <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
       [attr.viewBox]="viewBox" preserveAspectRatio="xMidYMid">
    <defs>

      <filter id="f2" x="-50%" y="-50%" width="200%" height="200%">
        <feGaussianBlur result="blurOut" in="StrokePaint" stdDeviation="3"/>
      </filter>

      <pattern id="New_Pattern_Swatch_1" data-name="New Pattern Swatch 1" width="60" height="60"
               patternUnits="userSpaceOnUse" viewBox="0 0 60 60">
               <line id="svg_1" y2="6.74" y1="123.26" x2="3.26" x1="-113.26" class="stroke-pattern"/>
               <line id="svg_2" y2="16.74" y1="133.26" x2="13.26" x1="-103.26" class="stroke-pattern"/>
               <line id="svg_3" y2="26.74" y1="143.26" x2="23.26" x1="-93.26" class="stroke-pattern"/>
               <line id="svg_4" y2="36.74" y1="153.26" x2="33.26" x1="-83.26" class="stroke-pattern"/>
               <line id="svg_5" y2="46.74" y1="163.26" x2="43.26" x1="-73.26" class="stroke-pattern"/>
               <line id="svg_6" y2="56.74" y1="173.26" x2="53.26" x1="-63.26" class="stroke-pattern"/>
               <line id="svg_7" y2="6.74" y1="123.26" x2="63.26" x1="-53.26" class="stroke-pattern"/>
               <line id="svg_8" y2="16.74" y1="133.26" x2="73.26" x1="-43.26" class="stroke-pattern"/>
               <line id="svg_9" y2="26.74" y1="143.26" x2="83.26" x1="-33.26" class="stroke-pattern"/>
               <line id="svg_10" y2="36.74" y1="153.26" x2="93.26" x1="-23.26" class="stroke-pattern"/>
               <line id="svg_11" y2="46.74" y1="163.26" x2="103.26" x1="-13.26" class="stroke-pattern"/>
               <line id="svg_12" y2="56.74" y1="173.26" x2="113.26" x1="-3.26" class="stroke-pattern"/>
               <line id="svg_13" y2="6.74" y1="123.26" x2="123.26" x1="6.74" class="stroke-pattern"/>
               <line id="svg_14" y2="16.74" y1="133.26" x2="133.26" x1="16.74" class="stroke-pattern"/>
               <line id="svg_15" y2="26.74" y1="143.26" x2="143.26" x1="26.74" class="stroke-pattern"/>
               <line id="svg_16" y2="36.74" y1="153.26" x2="153.26" x1="36.74" class="stroke-pattern"/>
               <line id="svg_17" y2="46.74" y1="163.26" x2="163.26" x1="46.74" class="stroke-pattern"/>
               <line id="svg_18" y2="56.74" y1="173.26" x2="173.26" x1="56.74" class="stroke-pattern"/>
               <line id="svg_19" y2="-53.26" y1="63.26" x2="3.26" x1="-113.26" class="stroke-pattern"/>
               <line id="svg_20" y2="-43.26" y1="73.26" x2="13.26" x1="-103.26" class="stroke-pattern"/>
               <line id="svg_21" y2="-33.26" y1="83.26" x2="23.26" x1="-93.26" class="stroke-pattern"/>
               <line id="svg_22" y2="-23.26" y1="93.26" x2="33.26" x1="-83.26" class="stroke-pattern"/>
               <line id="svg_23" y2="-13.26" y1="103.26" x2="43.26" x1="-73.26" class="stroke-pattern"/>
               <line id="svg_24" y2="-3.26" y1="113.26" x2="53.26" x1="-63.26" class="stroke-pattern"/>
               <line id="svg_25" y2="-53.26" y1="63.26" x2="63.26" x1="-53.26" class="stroke-pattern"/>
               <line id="svg_26" y2="-43.26" y1="73.26" x2="73.26" x1="-43.26" class="stroke-pattern"/>
               <line id="svg_27" y2="-33.26" y1="83.26" x2="83.26" x1="-33.26" class="stroke-pattern"/>
               <line id="svg_28" y2="-23.26" y1="93.26" x2="93.26" x1="-23.26" class="stroke-pattern"/>
               <line id="svg_29" y2="-13.26" y1="103.26" x2="103.26" x1="-13.26" class="stroke-pattern"/>
               <line id="svg_30" y2="-3.26" y1="113.26" x2="113.26" x1="-3.26" class="stroke-pattern"/>
               <line id="svg_31" y2="-53.26" y1="63.26" x2="123.26" x1="6.74" class="stroke-pattern"/>
               <line id="svg_32" y2="-43.26" y1="73.26" x2="133.26" x1="16.74" class="stroke-pattern"/>
               <line id="svg_33" y2="-33.26" y1="83.26" x2="143.26" x1="26.74" class="stroke-pattern"/>
               <line id="svg_34" y2="-23.26" y1="93.26" x2="153.26" x1="36.74" class="stroke-pattern"/>
               <line id="svg_35" y2="-13.26" y1="103.26" x2="163.26" x1="46.74" class="stroke-pattern"/>
               <line id="svg_36" y2="-3.26" y1="113.26" x2="173.26" x1="56.74" class="stroke-pattern"/>
               <line id="svg_37" y2="-113.26" y1="3.26" x2="3.26" x1="-113.26" class="stroke-pattern"/>
               <line id="svg_38" y2="-103.26" y1="13.26" x2="13.26" x1="-103.26" class="stroke-pattern"/>
               <line id="svg_39" y2="-93.26" y1="23.26" x2="23.26" x1="-93.26" class="stroke-pattern"/>
               <line id="svg_40" y2="-83.26" y1="33.26" x2="33.26" x1="-83.26" class="stroke-pattern"/>
               <line id="svg_41" y2="-73.26" y1="43.26" x2="43.26" x1="-73.26" class="stroke-pattern"/>
               <line id="svg_42" y2="-63.26" y1="53.26" x2="53.26" x1="-63.26" class="stroke-pattern"/>
               <line id="svg_43" y2="-113.26" y1="3.26" x2="63.26" x1="-53.26" class="stroke-pattern"/>
               <line id="svg_44" y2="-103.26" y1="13.26" x2="73.26" x1="-43.26" class="stroke-pattern"/>
               <line id="svg_45" y2="-93.26" y1="23.26" x2="83.26" x1="-33.26" class="stroke-pattern"/>
               <line id="svg_46" y2="-83.26" y1="33.26" x2="93.26" x1="-23.26" class="stroke-pattern"/>
               <line id="svg_47" y2="-73.26" y1="43.26" x2="103.26" x1="-13.26" class="stroke-pattern"/>
               <line id="svg_48" y2="-63.26" y1="53.26" x2="113.26" x1="-3.26" class="stroke-pattern"/>
               <line id="svg_49" y2="-113.26" y1="3.26" x2="123.26" x1="6.74" class="stroke-pattern"/>
               <line id="svg_50" y2="-103.26" y1="13.26" x2="133.26" x1="16.74" class="stroke-pattern"/>
               <line id="svg_51" y2="-93.26" y1="23.26" x2="143.26" x1="26.74" class="stroke-pattern"/>
               <line id="svg_52" y2="-83.26" y1="33.26" x2="153.26" x1="36.74" class="stroke-pattern"/>
               <line id="svg_53" y2="-73.26" y1="43.26" x2="163.26" x1="46.74" class="stroke-pattern"/>
               <line id="svg_54" y2="-63.26" y1="53.26" x2="173.26" x1="56.74" class="stroke-pattern"/>
      </pattern>
    </defs>

    <g>
      <path class="room-border" [attr.d]="border.d" *ngFor="let border of roomSvg.borders" />
    </g>

    <g>
      <path class="stroked-element" [attr.d]="strokedArea.d" *ngFor="let strokedArea of roomSvg.stokedAreas"/>
    </g>

    <g [attr.id]="room.id" [class.selected-room]="selectedRoom == room.id" *ngFor="let room of sortedRooms">
      <path class="room-bg" (click)="selectRoom(room.id)" [attr.d]="room.area.d" [style.filter]="isIE || isFirefox ? 'inherit': ''" />
      <path class="room-border" [attr.d]="room.border.d" />
      <path class="room-border room-border-glow" [attr.d]="room.border.d" [style.filter]="isIE || isFirefox ? 'inherit': ''" />
      <text class="room-text" (click)="selectRoom(room.id)" text-anchor="middle"
            [attr.x]="room.name.x" [attr.y]="room.name.y">{{room.name.text}}</text>
    </g>
  </svg>
</div>
